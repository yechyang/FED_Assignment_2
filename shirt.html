<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/product.css">
    <link rel="stylesheet" href="css/normalize.css">
</head>
<body>
  <header w3-include-html="header.html"></header>

    <img class="top-left-image" src="images/close.png" alt="X Image">

    <div class="dropdown">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="dropdown1">Sizes</label>
              <select class="form-select custom-dropdown" id="dropdown1">
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
              </select>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="dropdown2">Sort</label>
              <select class="form-select custom-dropdown" id="dropdown2">
                <option value="Newest">Newest</option>
                <option value="Oldest">Oldest</option>
                <option value="Highest">Highest Price</option>
                <option value="Lowest">Lowest Price</option>
              </select>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="dropdown3">Colors</label>
              <select class="form-select custom-dropdown" id="dropdown3">
                <option value="red">Red</option>
                <option value="green">Green</option>
                <option value="blue">Blue</option>
              </select>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="dropdown4">Price</label>
              <select class="form-select custom-dropdown" id="dropdown4">
                
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="box-container container">
      <div class="row">
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 1">
            <p></p>
            <p></p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 2">
            <p></p>
            <p></p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 3">
            <p></p>
            <p></p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p></p>
            <p></p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p>Text below box 4</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p>Text below box 4</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p>Text below box 4</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p>Text below box 4</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="box text-center">
            <img src="" alt="Image 4">
            <p></p>
            <p></p>
          </div>
        </div>
        <!-- Repeat the above structure for additional boxes -->
      </div>
    </div>


    <div class="custom-container">
      <div class="cartTab" style="display: none;">
        <div class="Header">
          <h3 class="Heading">Shopping Cart</h3>
          <h5 class="Action">Remove all</h5>
        </div>
        <ul class="shopping-cart-list"></ul>
        <button class="cart-button">Pay Now</button>
      </div>
    </div>


  <footer w3-include-html="footer.html"></footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/w3-include-HTML.js"></script> 
  <script src="js/product-api.js"></script>
  <script>
    window.addEventListener('load', function () {
      var marketIcon = document.getElementById('market-icon');
      var cartTab = document.querySelector('.cartTab');
      var boxContainer = document.querySelector('.box-container'); // Adjust to your actual container class
      var shoppingCartList = document.querySelector('.shopping-cart-list');
  
      if (marketIcon) {
        marketIcon.addEventListener('click', function () {
          if (cartTab.style.display === 'none' || cartTab.style.display === '') {
            cartTab.style.display = 'block';
          } else {
            cartTab.style.display = 'none';
          }
        });
      }
  
      // Delegate click event handling to the parent container
      boxContainer.addEventListener('click', function (event) {
        var clickedBox = event.target.closest('.box');
  
        if (clickedBox) {
          // Get product details from the clicked box
          var productImage = clickedBox.querySelector('img').getAttribute('src');
          
          var productNameElement = clickedBox.querySelector('p:nth-child(2)');
          var firstProductText = productNameElement ? productNameElement.textContent.trim() : '';
          
          var productPriceElement = clickedBox.querySelector('p:nth-child(3)');
          var secondProductText = productPriceElement ? productPriceElement.textContent.trim() : '';
  
          // You can now use the product details to add it to the shopping cart
          addToCart(productImage, firstProductText, secondProductText);
        }
      });
  
      function addToCart(image, text, secondText) {
        var listItem = document.createElement('li');
  
        // Create a container for the image and text
        var contentContainer = document.createElement('div');
        contentContainer.classList.add('content-container');
  
        // Create an image element
        var imageElement = document.createElement('img');
        imageElement.src = image;
        imageElement.alt = 'Product Image';
  
        // Create a paragraph element for the first paragraph
        var textElement = document.createElement('p');
        textElement.textContent = text;
  
        // Create a paragraph element for the second paragraph
        var secondTextElement = document.createElement('p');
        secondTextElement.textContent = secondText;
  
        // Append the image and text to the content container
        contentContainer.appendChild(imageElement);
        contentContainer.appendChild(textElement);
        contentContainer.appendChild(secondTextElement);
  
        // Append the content container to the list item
        listItem.appendChild(contentContainer);
  
        // Append the new list item to the shopping cart list
        if (shoppingCartList) {
          shoppingCartList.appendChild(listItem);
  
          // Log to console for verification (you can remove this line in the final version)
          console.log('Product added to cart:', { image, text, secondText });
        } else {
          console.error('Shopping cart list not found.');
        }
      }
    });
  </script>
  
  

</body>
</html>